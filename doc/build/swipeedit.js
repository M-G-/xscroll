define('kg/xscroll/2.0.0/swipeedit',["./util"],function(require, exports, module) {var e,t=require("./util"),l=t.prefixStyle("transform"),i=t.prefixStyle("transition"),n="xs-plugin-swipeedit-",s=!1,a=20,r=!1,o=!1,d=t.vendor?["-",t.vendor,"-transform"].join(""):"transform",f=1,c=function(e){this.userConfig=t.mix({labelSelector:n+"label",renderHook:function(e){e.innerHTML=tpl}},e)};t.mix(c.prototype,{pluginId:"xlist/plugin/swipeedit",initializer:function(e){var t=this;t.xlist=e,t._bindEvt()},getTransformX:function(e){var t=getComputedStyle(e)[l].match(/[-\d\.*\d*]+/g);return t?t[4]/1:0},_bindEvt:function(){var t=this,n=t.xlist,d=null;n.on("panstart",function(l){o=!1,d=l.cell.element.querySelector(t.userConfig.labelSelector),e=t.getTransformX(d),d.style[i]="none",Math.abs(e)>0&&!r&&t.slideRight(l)}),n.on("pan",function(r){if("left"==r.touch.directionX&&t.slideAllExceptRow(r.cell._row),Math.abs(r.deltaY)<10&&Math.abs(r.deltaX)/Math.abs(r.deltaY)>4&&Math.abs(r.deltaX)>a){s=!0,n.userConfig.lockY=!0;var o=e+r.deltaX+a;if(o>0)return;d.style[i]="none",d.style[l]="translateX("+o+"px) translateZ(0)"}else s||(n.userConfig.lockY=!1)}),n.on("panend",function(e){s=!1;var l=t.getTransformX(d);"left"==e.touch.directionX&&Math.abs(e.velocityX)>f?t.slideLeftHandler(e):Math.abs(l)<t.userConfig.width/2?t.slideRightHandler(e):Math.abs(l)>=t.userConfig.width/2&&t.slideLeftHandler(e)}),document.body.addEventListener("webkitTransitionEnd",function(e){new RegExp(t.userConfig.labelSelector.replace(/\./,"")).test(e.target.className)&&(r=!1)})},slideLeft:function(e){var t=this,n=xlist.getCellByRow(e);if(n&&n.element){var s=n.element.querySelector(t.userConfig.labelSelector);s&&s.style&&(s.style[l]="translateX(-"+t.userConfig.width+"px) translateZ(0)",s.style[i]=d+" 0.15s ease",xlist.getData(0,e).data.status="delete")}},slideRight:function(e){var t=this,n=xlist.getCellByRow(e);if(n&&n.element){var s=n.element.querySelector(t.userConfig.labelSelector);s&&s.style&&(s.style[l]="translateX(0) translateZ(0)",s.style[i]=d+" 0.5s ease",xlist.getData(0,e).data.status="")}},slideLeftHandler:function(e){var t=this;r=!0,t.slideLeft(e.cell._row)},slideRightHandler:function(e){var t=this;o=!0,r=!0,t.slideRight(e.cell._row)},slideAllExceptRow:function(e){var t=this;for(var l in xlist.infiniteElementsCache)(e!=xlist.infiniteElementsCache[l]._row||void 0===e)&&t.slideRight(xlist.infiniteElementsCache[l]._row)}}),module.exports=c;});