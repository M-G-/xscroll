define('kg/xscroll/2.0.0/swipeedit',["./util"],function(require, exports, module) {var e,t=require("./util"),i=t.prefixStyle("transform"),l=t.prefixStyle("transition"),n="xs-plugin-swipeedit-",a=!1,s=20,r=!1,o=!1,d=t.vendor?["-",t.vendor,"-transform"].join(""):"transform",f=1,c=function(e){this.userConfig=t.mix({labelSelector:n+"label",renderHook:function(e){e.innerHTML=tpl}},e)};t.mix(c.prototype,{pluginId:"xlist/plugin/swipeedit",initializer:function(e){var t=this;t.xlist=e,t._bindEvt()},getTransformX:function(e){var t=getComputedStyle(e)[i].match(/[-\d\.*\d*]+/g);return t?t[4]/1:0},_bindEvt:function(){var t=this,n=t.xlist,d=null;n.on("panstart",function(i){o=!1,d=i.cell.element.querySelector(t.userConfig.labelSelector),e=t.getTransformX(d),d.style[l]="none",Math.abs(e)>0&&!r&&t.slideRight(i)}),n.on("pan",function(r){if("left"==r.touch.directionX&&t.slideAllExceptRow(r.cell._row),Math.abs(r.deltaY)<10&&Math.abs(r.deltaX)/Math.abs(r.deltaY)>4&&Math.abs(r.deltaX)>s){a=!0,n.userConfig.lockY=!0;var o=e+r.deltaX+s;if(o>0)return;d.style[l]="none",d.style[i]="translateX("+o+"px) translateZ(0)"}else a||(n.userConfig.lockY=!1)}),n.on("panend",function(e){a=!1;var i=t.getTransformX(d);"left"==e.touch.directionX&&Math.abs(e.velocityX)>f?t.slideLeftHandler(e):Math.abs(i)<t.userConfig.width/2?t.slideRightHandler(e):Math.abs(i)>=t.userConfig.width/2&&t.slideLeftHandler(e)}),document.body.addEventListener("webkitTransitionEnd",function(e){new RegExp(t.userConfig.labelSelector.replace(/\./,"")).test(e.target.className)&&(r=!1)})},slideLeft:function(e){var t=this,n=xlist.getCellByRow(e);if(n&&n.element){var a=n.element.querySelector(t.userConfig.labelSelector);a&&a.style&&(a.style[i]="translateX(-"+t.userConfig.width+"px) translateZ(0)",a.style[l]=d+" 0.15s ease",xlist.getData(0,e).data.status="delete")}},slideRight:function(e){var t=this,n=xlist.getCellByRow(e);if(n&&n.element){var a=n.element.querySelector(t.userConfig.labelSelector);a&&a.style&&(a.style[i]="translateX(0) translateZ(0)",a.style[l]=d+" 0.5s ease",xlist.getData(0,e).data.status="")}},slideLeftHandler:function(e){var t=this;r=!0,t.slideLeft(e.cell._row)},slideRightHandler:function(e){var t=this;o=!0,r=!0,t.slideRight(e.cell._row)},slideAllExceptRow:function(e){var t=this;for(var i in xlist.infiniteElementsCache)(e!=xlist.infiniteElementsCache[i]._row||void 0===e)&&t.slideRight(xlist.infiniteElementsCache[i]._row)}});});