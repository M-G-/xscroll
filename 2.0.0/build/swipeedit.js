define('kg/xscroll/2.0.0/swipeedit',["./util"],function(require, exports, module) {define(function(e){var t,i=e("./util"),n=i.prefixStyle("transform"),l=i.prefixStyle("transition"),a="xs-plugin-swipeedit-",s=!1,r=20,o=!1,d=!1,f=i.vendor?["-",i.vendor,"-transform"].join(""):"transform",c=1,u=function(e){this.userConfig=i.mix({labelSelector:a+"label",renderHook:function(e){e.innerHTML=tpl}},e)};return i.mix(u.prototype,{pluginId:"xlist/plugin/swipeedit",initializer:function(e){var t=this;t.xlist=e,t._bindEvt()},getTransformX:function(e){var t=getComputedStyle(e)[n].match(/[-\d\.*\d*]+/g);return t?t[4]/1:0},_bindEvt:function(){var e=this,i=e.xlist,a=null;i.on("panstart",function(i){d=!1,a=i.cell.element.querySelector(e.userConfig.labelSelector),t=e.getTransformX(a),a.style[l]="none",Math.abs(t)>0&&!o&&e.slideRight(i)}),i.on("pan",function(o){if("left"==o.touch.directionX&&e.slideAllExceptRow(o.cell._row),Math.abs(o.deltaY)<10&&Math.abs(o.deltaX)/Math.abs(o.deltaY)>4&&Math.abs(o.deltaX)>r){s=!0,i.userConfig.lockY=!0;var d=t+o.deltaX+r;if(d>0)return;a.style[l]="none",a.style[n]="translateX("+d+"px) translateZ(0)"}else s||(i.userConfig.lockY=!1)}),i.on("panend",function(t){s=!1;var i=e.getTransformX(a);"left"==t.touch.directionX&&Math.abs(t.velocityX)>c?e.slideLeftHandler(t):Math.abs(i)<e.userConfig.width/2?e.slideRightHandler(t):Math.abs(i)>=e.userConfig.width/2&&e.slideLeftHandler(t)}),document.body.addEventListener("webkitTransitionEnd",function(t){new RegExp(e.userConfig.labelSelector.replace(/\./,"")).test(t.target.className)&&(o=!1)})},slideLeft:function(e){var t=this,i=xlist.getCellByRow(e);if(i&&i.element){var a=i.element.querySelector(t.userConfig.labelSelector);a&&a.style&&(a.style[n]="translateX(-"+t.userConfig.width+"px) translateZ(0)",a.style[l]=f+" 0.15s ease",xlist.getData(0,e).data.status="delete")}},slideRight:function(e){var t=this,i=xlist.getCellByRow(e);if(i&&i.element){var a=i.element.querySelector(t.userConfig.labelSelector);a&&a.style&&(a.style[n]="translateX(0) translateZ(0)",a.style[l]=f+" 0.5s ease",xlist.getData(0,e).data.status="")}},slideLeftHandler:function(e){var t=this;o=!0,t.slideLeft(e.cell._row)},slideRightHandler:function(e){var t=this;d=!0,o=!0,t.slideRight(e.cell._row)},slideAllExceptRow:function(e){var t=this;for(var i in xlist.infiniteElementsCache)(e!=xlist.infiniteElementsCache[i]._row||void 0===e)&&t.slideRight(xlist.infiniteElementsCache[i]._row)}}),u});});