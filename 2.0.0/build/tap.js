KISSY.add('kg/xscroll/2.0.0/tap',["./util","./event"],function(S ,require, exports, module) {define(function(t){function e(){if(g.length>2){for(var t=[],e=1;e<g.length;e++)t[e-1]=g[e];g=t}}function n(t){if(e(),0==g.length)return!1;var n=t.startTime-g[g.length-1].startTime;return 10>n?!0:!1}function i(){if(e(),1==g.length)return!1;var t=g[1].startTime-g[0].startTime;return T>t?!0:!1}function a(t){if(t.touches.length>1)return void(f=!1);var e=(t.currentTarget,t.target,t.changedTouches[0].clientX),n=t.changedTouches[0].clientY;f={startX:e,startY:n,startTime:Number(new Date),e:t},p&&clearTimeout(p);t.target;p=setTimeout(function(){if(f){var i={};u.mix(i,t),u.mix(i,{type:s,pageX:e,pageY:n,originalEvent:t}),c.dispatchEvent(t.target,s,i)}clearTimeout(p)},v)}function r(t){if(f){var a=t.changedTouches[0].clientX,r=t.changedTouches[0].clientY,s=Math.abs(a-f.startX),v=Math.abs(r-f.startY);if(u.mix(f,{endX:a,endY:r,distance:Math.sqrt(s*s+v*v),timeSpan:Number(Number(new Date)-f.startTime)}),f.timeSpan>m)return void(f=!1);if(f.distance>h)return void(f=!1);if(!n(f)){g.push(f),e();var p={};u.mix(p,t),u.mix(p,{type:o,pageX:a,pageY:r,originalEvent:t});var x=t.target;return c.dispatchEvent(x,o,p),E?(i()&&(u.mix(p,{type:d}),c.dispatchEvent(x,d,p)),clearTimeout(E),void(E=null)):void(E=setTimeout(function(){clearTimeout(E),E=null,u.mix(p,{type:l}),c.dispatchEvent(x,l,p)},T))}}}var u=t("./util"),c=t("./event"),o="tap",s="tapHold",l="singleTap",d="doubleTap",m=250,h=10,v=750,T=200,g=[],f=!1,p=null,E=null;return document.addEventListener("touchstart",a),document.addEventListener("touchend",r),{TAP:o,TAP_HOLD:s,SINGLE_TAP:l,DOUBLE_TAP:d}});});